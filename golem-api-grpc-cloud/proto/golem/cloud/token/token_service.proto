syntax = "proto3";

package golem.cloud.token;

import public "golem/common/account_id.proto";
import public "golem/common/empty.proto";
import public "golem/cloud/common/create_token_dto.proto";
import public "golem/cloud/common/token.proto";
import public "golem/cloud/common/token_id.proto";
import public "golem/cloud/common/token_error.proto";
import public "golem/cloud/common/unsafe_token.proto";

service TokenService {
  rpc GetTokens (GetTokensRequest) returns (GetTokensResponse);
  rpc CreateToken (CreateTokenRequest) returns (CreateTokenResponse);
  rpc DeleteToken (DeleteTokenRequest) returns (DeleteTokenResponse);
  rpc GetToken (GetTokenRequest) returns (GetTokenResponse);
}

message GetTokensRequest {
  golem.common.AccountId accountId = 1;
}

message GetTokensResponse {
  oneof result {
    GetTokensSuccessResponse success = 1;
    golem.cloud.common.TokenError error = 2;
  }
}

message GetTokensSuccessResponse {
  repeated golem.cloud.common.Token data = 1;
}

message CreateTokenRequest {
  golem.common.AccountId accountId = 1;
  golem.cloud.common.CreateTokenDTO createTokenDTO = 2;
}

message CreateTokenResponse {
  oneof result {
    golem.cloud.common.UnsafeToken success = 1;
    golem.cloud.common.TokenError error = 2;
  }
}

message DeleteTokenRequest {
  golem.common.AccountId accountId = 1;
  golem.cloud.common.TokenId tokenId = 2;
}

message DeleteTokenResponse {
  oneof result {
    golem.common.Empty success = 1;
    golem.cloud.common.TokenError error = 2;
  }
}

message GetTokenRequest {
  golem.common.AccountId accountId = 1;
  golem.cloud.common.TokenId tokenId = 2;
}

message GetTokenResponse {
  oneof result {
    golem.cloud.common.Token success = 1;
    golem.cloud.common.TokenError error = 2;
  }
}
